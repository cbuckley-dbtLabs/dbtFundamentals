models:
  - name: dim_customers
    description: This model provides a comprehensive view of customer data, including personal details and order history, to support customer analysis and segmentation. This model provides a comprehensive view of customer data, including personal details and order history, to support customer analysis and segmentation.
    columns:
      - name: customer_id
        description: A unique identifier for each customer.
        entity:
          type: primary
          name: customer
      - name: first_name
        description: The first name of the customer.
        dimension:
          type: categorical
      - name: last_name
        description: The last name of the customer.
        dimension:
          type: categorical
      - name: first_order_date
        description: The date when the customer placed their first order.
        dimension:
          type: time
        granularity: day
      - name: most_recent_order_date
        description: The date when the customer placed their most recent order.
        dimension:
          type: time
        granularity: day
      - name: number_of_orders
        description: The total number of orders placed by the customer.
      - name: lifetime_value
        description: The total revenue generated by the customer over their lifetime.
    semantic_model:
      enabled: true
    agg_time_dimension: first_order_date
    metrics:
      - name: number_of_orders
        description: The total number of orders placed by the customer.
        agg: sum
        type: simple
      - name: lifetime_value
        description: The total revenue generated by the customer over their lifetime.
        agg: sum
        type: simple
      - name: count_customer
        agg: count
        expr: customer_id
        type: simple